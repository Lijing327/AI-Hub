# .NET 后端服务地址
DOTNET_BASE_URL=http://localhost:5000

# 内部 API 鉴权 Token（需与 .NET 后端的 appsettings.json 中的 InternalToken 一致）
INTERNAL_TOKEN=your-internal-token-change-in-production

# 默认租户 ID（可选，缺省为 "default"）
DEFAULT_TENANT=default

# 附件文件基础路径（静态资源目录，用于文件匹配）
# 支持递归搜索所有子文件夹（文件夹内可能包含视频、图片、文档等）
# Windows 示例：D:\01-资料\永红造型线维修视频
# Linux 示例：/path/to/static
# 如果未配置，将跳过文件匹配，只保留文本引用
ATTACHMENT_BASE_PATH=

# 附件文件访问基础 URL（用于生成文件访问链接）
# 示例：http://localhost:5000/uploads
ATTACHMENT_BASE_URL=http://localhost:5000/uploads

# DeepSeek AI（可选）：知识库不可用或结果为空时的 AI 兜底与引导
# 在 .env 中填入 DEEPSEEK_API_KEY 即可启用以下功能：
# 1. 当知识库搜索无结果时，AI 会主动引导用户补充信息（如设备型号、报警码、现象等）
# 2. 当 .NET 返回 502/503/超时等错误时，AI 会生成简要排查建议
# 3. 「你是谁」等身份/闲聊类问题会直接走 AI，不查知识库
# API 地址：https://api.deepseek.com/v1/chat/completions
# 获取 API Key：https://platform.deepseek.com/
DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# ========== 向量能力闭环：从 SQL Server 读 kb_article → 拆分 → embedding → Chroma ==========
# SQL Server（kb_article 来源，仅 SELECT）
SQLSERVER_DSN=Driver={ODBC Driver 17 for SQL Server};Server=localhost;Database=ai_hub;Trusted_Connection=yes;
# 也可以用用户名密码：
# SQLSERVER_DSN=Driver={ODBC Driver 17 for SQL Server};Server=localhost;Database=ai_hub;UID=sa;PWD=xxx;
# 兼容旧配置名
KB_SQLSERVER_CONNECTION_STRING=Driver={ODBC Driver 17 for SQL Server};Server=localhost;Database=ai_hub;Trusted_Connection=yes;

# Chroma（向量库）
CHROMA_PERSIST_DIR=./data/chroma
CHROMA_COLLECTION=kb_articles
# 兼容旧配置名
CHROMA_PERSIST_PATH=./data/chroma

# Embedding（先用 fake 联调，后切 openai）
EMBEDDING_PROVIDER=fake  # fake | openai
OPENAI_API_KEY=
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# 兼容旧配置名
EMBEDDING_API_KEY=
EMBEDDING_BASE_URL=https://api.openai.com/v1
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIM=1536
