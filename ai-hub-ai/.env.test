# =====================================================
# AI-Hub 测试环境配置
# 说明：修改 app/core/config.py 中的 USE_ENV_TEST = True 即可使用此配置
# =====================================================

# .NET 后端服务地址
DOTNET_BASE_URL=http://localhost:5000

# 内部 API 鉴权 Token（需与 .NET 后端的 appsettings.Test.json 中的 InternalToken 一致）
INTERNAL_TOKEN=test-token-123

# 默认租户 ID（可选，缺省为 "default"）
DEFAULT_TENANT=default_test

# ========== 审计日志 ==========
# 是否启用审计日志（true/false），启用后会调用 .NET internal API 记录对话全链路
ENABLE_AUDIT_LOG=true

# 附件文件基础路径（静态资源目录，用于文件匹配）
ATTACHMENT_BASE_PATH=D:\01-资料\永红造型线维修视频
ATTACHMENT_BASE_URL=http://localhost:5000/uploads_test

# ========== 对话 LLM（百炼兼容：与 embedding 共用 DASHSCOPE_API_KEY）==========
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_MODEL=deepseek-v3.2
# 不填 LLM_API_KEY 时使用 DASHSCOPE_API_KEY（见下方）

# DeepSeek 直连备用（未配置 LLM_BASE_URL 时生效）
DEEPSEEK_API_KEY=sk-6efb101e1db34793919f3a8e789323af
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# ========== SQL Server（kb_article 来源，仅 SELECT）==========
# 测试数据库：ai_hub_test，需与 ai-hub-service Program.cs 连接同一服务器
SQLSERVER_DSN=Driver={ODBC Driver 17 for SQL Server};Server=172.16.15.9;Database=ai_hub_test;UID=sa;PWD=pQdr2f@K3.Stp6Qs3hkP;TrustServerCertificate=yes;
# 兼容旧配置名
KB_SQLSERVER_CONNECTION_STRING=Driver={ODBC Driver 17 for SQL Server};Server=172.16.15.9;Database=ai_hub_test;UID=sa;PWD=pQdr2f@K3.Stp6Qs3hkP;TrustServerCertificate=yes;

# ========== Chroma 向量库 ==========
# 测试向量库目录和集合名
CHROMA_PERSIST_DIR=./data/chroma_test
CHROMA_COLLECTION=kb_articles_test
# 兼容旧配置名
CHROMA_PERSIST_PATH=./data/chroma_test

# ========== Embedding（百炼 text-embedding-v3，与对话共用 DASHSCOPE_API_KEY）==========
EMBEDDING_PROVIDER=openai
OPENAI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
OPENAI_EMBEDDING_MODEL=text-embedding-v3
# 百炼 API Key（embedding + 对话 LLM 共用）
DASHSCOPE_API_KEY=sk-4d6471ae6aff4c44a43229fcec9c14ce
